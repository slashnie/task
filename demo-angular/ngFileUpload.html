<!DOCTYPE html>
<html ng-app="test">
<meta charset="UTF-8">
<title>ngFileUpload</title>
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body style="padding: 100px;">
<div ng-controller="testCtrl">
    <input type="file" ng-test-upload="testF" name="testFile" />
    <button ng-click="demo()">getFile</button>
</div>
<script src="https://cdn.bootcss.com/angular.js/1.6.6/angular.js"></script>
<script>
    var app = angular.module('test', []);
    app.directive('ngTestUpload', function() {
        return {
            restrict: 'ACE',
            link: function(scope, element, attr) {
                element.on('change', function() {
                    scope.file = this.files[0];
                })
            },
            scope: {
                file: '=ngTestUpload'
            }
        }
    });
    app.controller('testCtrl', function($scope) {
        $scope.demo = function() {
           console.log($scope.testF);
        }
    })
</script>
</body>
</html>